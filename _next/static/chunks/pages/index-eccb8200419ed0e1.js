(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{6760:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(9142)}])},7864:e=>{e.exports={panel:"ControlPanel_panel__G5GKQ",button:"ControlPanel_button__LRSrq"}},9142:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>v});var n=i(7876),o=i(4587),r=i.n(o),l=i(1777),s=i(3916),a=i(4232),d=i(8209);let p=e=>"".concat("/Elevator-simulator").concat(e),u=()=>{let{currentFloor:e,queue:t,status:i,direction:o}=(0,l.d4)(e=>e.elevator),u=(0,l.wA)();return(0,a.useEffect)(()=>{if("stopped"!==i)return;if(0===t.length){let t=setTimeout(()=>{0!==e&&(u((0,d.Ud)(0)),u((0,d.oP)("down")))},5e3);return()=>clearTimeout(t)}if("idle"===o){let i=t.find(t=>t!==e);if(void 0!==i){let t=i>e?"up":"down";u((0,d.oP)(t))}return}let n="up"===o?t.filter(t=>t>e).sort((e,t)=>e-t):t.filter(t=>t<e).sort((e,t)=>t-e);if(0===n.length){let i="up"===o?"down":"up";("up"===i?t.some(t=>t>e):t.some(t=>t<e))?u((0,d.oP)(i)):u((0,d.oP)("idle"));return}if(0===t.length&&"stopped"===i){let i=setTimeout(()=>{0===e||t.includes(0)||(u((0,d.Ud)(0)),u((0,d.oP)("down")))},5e3);return()=>clearTimeout(i)}let r=n[0];u((0,d.Lx)("moving")),setTimeout(()=>{u((0,d.q9)(r)),u((0,d.Lx)("arriving")),setTimeout(()=>{u((0,d.UR)(r)),u((0,d.Lx)("stopped"))},1e3)},2e3)},[t,e,i,o,u]),(0,n.jsx)("div",{style:{position:"relative",width:"100px",height:"".concat(813,"px")},children:(0,n.jsx)(s.P.div,{style:{position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)",zIndex:2},animate:{y:-[40,130,130,140,135,130,130].slice(0,e).reduce((e,t)=>e+t,0),x:"moving"===i?[0,-2,2,-1,1,0]:0},transition:{y:{duration:2},x:{duration:.4,repeat:1/0,ease:"easeInOut"}},children:(0,n.jsx)(r(),{src:p("/lift.png"),alt:"Lift cabin",width:100,height:110,style:{position:"relative",right:"18px",scale:"0.75",boxShadow:"0 5px 20px rgba(0,0,0,0.3)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"}})})})};var x=i(7864),c=i.n(x);let f=[6,5,4,3,2,1,0],h=()=>{let e=(0,l.wA)(),t=t=>{e((0,d.Ud)(t))};return(0,n.jsx)("div",{className:c().panel,children:f.map(e=>(0,n.jsx)("button",{className:c().button,onClick:()=>t(e),children:e},e))})},m=()=>{let e=(0,l.d4)(e=>e.elevator.queue);return(0,n.jsxs)("div",{style:{background:"#111",color:"lime",padding:"10px 20px",borderRadius:"8px",fontFamily:"monospace",fontSize:"16px"},children:["Вызовы: ",e.join(", ")||"—"]})},g=()=>{let{status:e,direction:t,currentFloor:i}=(0,l.d4)(e=>e.elevator);return(0,n.jsxs)("div",{style:{background:"#000",color:"#fff",padding:"10px 16px",borderRadius:"6px",fontFamily:"monospace",fontSize:"14px",marginTop:"10px"},children:["Этаж: ",i," | Статус: ",e," | Направление: ",t]})};function v(){return(0,n.jsxs)("div",{style:{position:"relative",width:"100%",height:"100vh",maxHeight:"1100px",display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"},children:[(0,n.jsx)(r(),{src:p("/building.png"),alt:"Building",fill:!0,style:{objectFit:"contain",zIndex:0},priority:!0}),(0,n.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transformOrigin:"center",transform:"translate(-50%, -50%)",zIndex:10},children:(0,n.jsx)(u,{})}),(0,n.jsxs)("div",{style:{position:"absolute",top:20,right:20,display:"flex",flexDirection:"column",gap:"10px",zIndex:20},children:[(0,n.jsx)(m,{}),(0,n.jsx)(g,{}),(0,n.jsx)(h,{})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[986,636,593,792],()=>t(6760)),_N_E=e.O()}]);